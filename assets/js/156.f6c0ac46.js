(window.webpackJsonp=window.webpackJsonp||[]).push([[156],{498:function(l,a,s){"use strict";s.r(a);var t=s(4),_=Object(t.a)({},(function(){var l=this,a=l._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":l.$parent.slotKey}},[a("p",[l._v("学习不走弯路，"),a("a",{attrs:{href:"#%E5%85%AC%E4%BC%97%E5%8F%B7"}},[l._v("关注公众号")]),l._v(" 回复「学习路线」，获取mall项目专属学习路线！")]),l._v(" "),a("h1",{attrs:{id:"mall在windows环境下的部署"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mall在windows环境下的部署"}},[l._v("#")]),l._v(" mall在Windows环境下的部署")]),l._v(" "),a("blockquote",[a("p",[l._v("本文主要以图文的形式讲解mall项目所需环境在windows下的安装，主要包括IDEA、Mysql、Redis、Mongodb、RabbitMQ、Elasticsearch、Logstash、Kibana、OSS。")])]),l._v(" "),a("h2",{attrs:{id:"idea"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#idea"}},[l._v("#")]),l._v(" IDEA")]),l._v(" "),a("ul",[a("li",[a("p",[l._v("关于IDEA的安装与使用请参考：https://github.com/judasn/IntelliJ-IDEA-Tutorial")])]),l._v(" "),a("li",[a("p",[l._v("搜索插件仓库，安装插件"),a("code",[l._v("Lombok")]),l._v("；")])])]),l._v(" "),a("p",[a("img",{attrs:{src:"/img/mall/mall_windows_deploy_01.png",alt:""}})]),l._v(" "),a("ul",[a("li",[l._v("将项目下载到本地，然后直接打开。")])]),l._v(" "),a("p",[a("img",{attrs:{src:"/img/mall/mall_windows_deploy_02.png",alt:""}})]),l._v(" "),a("p",[a("img",{attrs:{src:"/img/mall/mall_windows_deploy_03.png",alt:""}})]),l._v(" "),a("h2",{attrs:{id:"mysql"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mysql"}},[l._v("#")]),l._v(" Mysql")]),l._v(" "),a("ul",[a("li",[l._v("下载并安装mysql"),a("code",[l._v("5.7")]),l._v("版本，下载地址：https://dev.mysql.com/downloads/installer/")]),l._v(" "),a("li",[l._v("设置数据库帐号密码：root root")]),l._v(" "),a("li",[l._v("下载并安装客户端连接工具Navicat,下载地址：http://www.formysql.com/xiazai.html")]),l._v(" "),a("li",[l._v("创建数据库"),a("code",[l._v("mall")])]),l._v(" "),a("li",[l._v("导入document/sql下的"),a("code",[l._v("mall.sql")]),l._v("文件")])]),l._v(" "),a("h2",{attrs:{id:"redis"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#redis"}},[l._v("#")]),l._v(" Redis")]),l._v(" "),a("ul",[a("li",[l._v("下载Redis,下载地址：https://github.com/MicrosoftArchive/redis/releases")])]),l._v(" "),a("p",[a("img",{attrs:{src:"/img/mall/mall_windows_deploy_04.png",alt:""}})]),l._v(" "),a("ul",[a("li",[l._v("下载完后解压到指定目录；")])]),l._v(" "),a("p",[a("img",{attrs:{src:"/img/mall/mall_windows_deploy_05.png",alt:""}})]),l._v(" "),a("ul",[a("li",[l._v("在当前地址栏输入cmd后，执行redis的启动命令："),a("code",[l._v("redis-server.exe redis.windows.conf")])])]),l._v(" "),a("p",[a("img",{attrs:{src:"/img/mall/mall_windows_deploy_06.png",alt:""}})]),l._v(" "),a("h2",{attrs:{id:"elasticsearch"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#elasticsearch"}},[l._v("#")]),l._v(" Elasticsearch")]),l._v(" "),a("ul",[a("li",[l._v("下载Elasticsearch"),a("code",[l._v("7.6.2")]),l._v("的zip包，并解压到指定目录，下载地址：https://www.elastic.co/cn/downloads/past-releases/elasticsearch-7-6-2")])]),l._v(" "),a("p",[a("img",{attrs:{src:"/img/mall/mall_windows_deploy_07.png",alt:""}})]),l._v(" "),a("ul",[a("li",[l._v("安装中文分词插件，在"),a("code",[l._v("elasticsearch-7.6.2\\bin")]),l._v("目录下执行以下命令：")])]),l._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[l._v("elasticsearch-plugin "),a("span",{pre:!0,attrs:{class:"token function"}},[l._v("install")]),l._v(" https://github.com/medcl/elasticsearch-analysis-ik/releases/download/v7.6.2/elasticsearch-analysis-ik-7.6.2.zip\n")])]),l._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[l._v("1")]),a("br")])]),a("p",[a("img",{attrs:{src:"/img/mall/mall_windows_deploy_08.png",alt:""}})]),l._v(" "),a("ul",[a("li",[l._v("运行bin目录下的"),a("code",[l._v("elasticsearch.bat")]),l._v("启动Elasticsearch服务。")])]),l._v(" "),a("p",[a("img",{attrs:{src:"/img/mall/mall_windows_deploy_09.png",alt:""}})]),l._v(" "),a("h2",{attrs:{id:"kibana"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#kibana"}},[l._v("#")]),l._v(" Kibana")]),l._v(" "),a("ul",[a("li",[l._v("下载Kibana，作为访问Elasticsearch的客户端，请下载"),a("code",[l._v("7.6.2")]),l._v("版本的zip包，并解压到指定目录，下载地址：https://www.elastic.co/cn/downloads/past-releases/kibana-7-6-2")])]),l._v(" "),a("p",[a("img",{attrs:{src:"/img/mall/mall_windows_deploy_10.png",alt:""}})]),l._v(" "),a("ul",[a("li",[l._v("运行bin目录下的"),a("code",[l._v("kibana.bat")]),l._v("，启动Kibana服务；")])]),l._v(" "),a("p",[a("img",{attrs:{src:"/img/mall/mall_windows_deploy_11.png",alt:""}})]),l._v(" "),a("ul",[a("li",[l._v("打开Kibana的用户界面，访问地址：http://localhost:5601")])]),l._v(" "),a("p",[a("img",{attrs:{src:"/img/mall/mall_windows_deploy_12.png",alt:""}})]),l._v(" "),a("h2",{attrs:{id:"logstash"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#logstash"}},[l._v("#")]),l._v(" Logstash")]),l._v(" "),a("ul",[a("li",[l._v("下载Logstash，用于收集日志，请下载"),a("code",[l._v("7.6.2")]),l._v("版本的zip包，并解压到指定目录，下载地址：https://www.elastic.co/cn/downloads/past-releases/logstash-7-6-2")])]),l._v(" "),a("p",[a("img",{attrs:{src:"/img/mall/mall_windows_deploy_13.png",alt:""}})]),l._v(" "),a("ul",[a("li",[l._v("将Logstash的配置文件"),a("code",[l._v("logstash.conf")]),l._v("拷贝到安装目录的"),a("code",[l._v("bin")]),l._v("目录下，配置文件地址：https://github.com/macrozheng/mall/blob/master/document/elk/logstash.conf")])]),l._v(" "),a("p",[a("img",{attrs:{src:"/img/mall/mall_windows_deploy_14.png",alt:""}})]),l._v(" "),a("ul",[a("li",[l._v("Logstash需要安装json_lines插件。")])]),l._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[l._v("logstash-plugin "),a("span",{pre:!0,attrs:{class:"token function"}},[l._v("install")]),l._v(" logstash-codec-json_lines\n")])]),l._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[l._v("1")]),a("br")])]),a("ul",[a("li",[l._v("运行bin目录下的"),a("code",[l._v("logstash.bat")]),l._v("，启动Logstash服务，启动命令如下：")])]),l._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[l._v("logstash "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[l._v("-f")]),l._v(" logstash.conf\n")])]),l._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[l._v("1")]),a("br")])]),a("h2",{attrs:{id:"mongodb"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mongodb"}},[l._v("#")]),l._v(" Mongodb")]),l._v(" "),a("ul",[a("li",[l._v("下载MongoDB安装包，选择"),a("code",[l._v("Windows x64")]),l._v("版本安装，下载地址：https://www.mongodb.com/download-center/community")])]),l._v(" "),a("p",[a("img",{attrs:{src:"/img/mall/mall_windows_deploy_15.png",alt:""}})]),l._v(" "),a("ul",[a("li",[l._v("运行MongoDB安装包并选择自定义安装，设置好安装路径；")])]),l._v(" "),a("p",[a("img",{attrs:{src:"/img/mall/mall_windows_deploy_16.png",alt:""}})]),l._v(" "),a("ul",[a("li",[l._v("配置MongoDB，让MongoDB作为服务运行，并配置好数据目录和日志目录；")])]),l._v(" "),a("p",[a("img",{attrs:{src:"/img/mall/mall_windows_deploy_17.png",alt:""}})]),l._v(" "),a("ul",[a("li",[l._v("取消MongoDB Compass的安装选项（不取消安装极慢），需要可自行安装；")])]),l._v(" "),a("p",[a("img",{attrs:{src:"/img/mall/mall_windows_deploy_18.png",alt:""}})]),l._v(" "),a("ul",[a("li",[l._v("双击"),a("code",[l._v("mongo.exe")]),l._v("可以运行MongoDB自带客户端，操作MongoDB；")])]),l._v(" "),a("p",[a("img",{attrs:{src:"/img/mall/mall_windows_deploy_19.png",alt:""}})]),l._v(" "),a("ul",[a("li",[l._v("连接成功后会显示如下信息；")])]),l._v(" "),a("p",[a("img",{attrs:{src:"/img/mall/mall_windows_deploy_20.png",alt:""}})]),l._v(" "),a("ul",[a("li",[l._v("如果需要移除MongoDB服务，只需使用管理员权限运行"),a("code",[l._v("cmd")]),l._v("工具，并输入如下命令。")])]),l._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[l._v("sc.exe delete MongoDB\n")])]),l._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[l._v("1")]),a("br")])]),a("ul",[a("li",[l._v("下载客户端工具"),a("code",[l._v("Robo 3T")]),l._v("，下载地址：https://robomongo.org/download")])]),l._v(" "),a("p",[a("img",{attrs:{src:"/img/mall/mall_windows_deploy_21.png",alt:""}})]),l._v(" "),a("ul",[a("li",[l._v("下载完成后解压，双击"),a("code",[l._v("robo3t.exe")]),l._v("即可使用；")])]),l._v(" "),a("p",[a("img",{attrs:{src:"/img/mall/mall_windows_deploy_22.png",alt:""}})]),l._v(" "),a("ul",[a("li",[l._v("之后创建一个到MongoDB的连接；")])]),l._v(" "),a("p",[a("img",{attrs:{src:"/img/mall/mall_windows_deploy_23.png",alt:""}})]),l._v(" "),a("ul",[a("li",[l._v("创建连接成功以后，就可以操作MongoDB了。")])]),l._v(" "),a("p",[a("img",{attrs:{src:"/img/mall/mall_windows_deploy_24.png",alt:""}})]),l._v(" "),a("h2",{attrs:{id:"rabbitmq"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#rabbitmq"}},[l._v("#")]),l._v(" RabbitMQ")]),l._v(" "),a("ul",[a("li",[l._v("安装Erlang，下载地址：http://erlang.org/download/otp_win64_21.3.exe")])]),l._v(" "),a("p",[a("img",{attrs:{src:"/img/mall/mall_windows_deploy_25.png",alt:""}})]),l._v(" "),a("ul",[a("li",[l._v("安装RabbitMQ，下载地址：https://dl.bintray.com/rabbitmq/all/rabbitmq-server/3.7.14/rabbitmq-server-3.7.14.exe")])]),l._v(" "),a("p",[a("img",{attrs:{src:"/img/mall/mall_windows_deploy_26.png",alt:""}})]),l._v(" "),a("ul",[a("li",[l._v("安装完成后，进入RabbitMQ安装目录下的sbin目录")])]),l._v(" "),a("p",[a("img",{attrs:{src:"/img/mall/mall_windows_deploy_27.png",alt:""}})]),l._v(" "),a("ul",[a("li",[l._v("在地址栏输入cmd并回车启动命令行，然后输入以下命令启动管理功能：")])]),l._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[l._v("rabbitmq-plugins enable rabbitmq_management\n")])]),l._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[l._v("1")]),a("br")])]),a("p",[a("img",{attrs:{src:"/img/mall/mall_windows_deploy_28.png",alt:""}})]),l._v(" "),a("ul",[a("li",[l._v("访问地址查看是否安装成功：http://localhost:15672/")])]),l._v(" "),a("p",[a("img",{attrs:{src:"/img/mall/mall_windows_deploy_29.png",alt:""}})]),l._v(" "),a("ul",[a("li",[a("p",[l._v("输入账号密码并登录：guest guest")])]),l._v(" "),a("li",[a("p",[l._v("创建帐号并设置其角色为管理员：mall mall")])])]),l._v(" "),a("p",[a("img",{attrs:{src:"/img/mall/mall_windows_deploy_30.png",alt:""}})]),l._v(" "),a("ul",[a("li",[l._v("创建一个新的虚拟host为：/mall")])]),l._v(" "),a("p",[a("img",{attrs:{src:"/img/mall/mall_windows_deploy_31.png",alt:""}})]),l._v(" "),a("ul",[a("li",[l._v("点击mall用户进入用户配置页面")])]),l._v(" "),a("p",[a("img",{attrs:{src:"/img/mall/mall_windows_deploy_32.png",alt:""}})]),l._v(" "),a("ul",[a("li",[l._v("给mall用户配置该虚拟host的权限")])]),l._v(" "),a("p",[a("img",{attrs:{src:"/img/mall/mall_windows_deploy_33.png",alt:""}})]),l._v(" "),a("ul",[a("li",[l._v("至此，RabbitMQ的安装和配置完成。")])]),l._v(" "),a("h2",{attrs:{id:"oss"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#oss"}},[l._v("#")]),l._v(" OSS")]),l._v(" "),a("h3",{attrs:{id:"开通oss服务"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#开通oss服务"}},[l._v("#")]),l._v(" 开通OSS服务")]),l._v(" "),a("ul",[a("li",[l._v("登录阿里云官网；")]),l._v(" "),a("li",[l._v("将鼠标移至产品标签页，单击对象存储 OSS，打开OSS 产品详情页面；")]),l._v(" "),a("li",[l._v("在OSS产品详情页，单击立即开通。")])]),l._v(" "),a("h3",{attrs:{id:"创建存储空间"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#创建存储空间"}},[l._v("#")]),l._v(" 创建存储空间")]),l._v(" "),a("ul",[a("li",[l._v("点击网页右上角控制台按钮进入控制台；")])]),l._v(" "),a("p",[a("img",{attrs:{src:"/img/mall/mall_windows_deploy_34.png",alt:""}})]),l._v(" "),a("ul",[a("li",[l._v("选择我的云产品中的对象存储OSS；")])]),l._v(" "),a("p",[a("img",{attrs:{src:"/img/mall/mall_windows_deploy_35.png",alt:""}})]),l._v(" "),a("ul",[a("li",[l._v("点击左侧存储空间的加号新建存储空间；")])]),l._v(" "),a("p",[a("img",{attrs:{src:"/img/mall/mall_windows_deploy_36.png",alt:""}})]),l._v(" "),a("ul",[a("li",[l._v("新建存储空间并设置读写权限为公共读。")])]),l._v(" "),a("p",[a("img",{attrs:{src:"/img/mall/mall_windows_deploy_37.png",alt:""}})]),l._v(" "),a("h3",{attrs:{id:"跨域资源共享-cors-的设置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#跨域资源共享-cors-的设置"}},[l._v("#")]),l._v(" 跨域资源共享（CORS）的设置")]),l._v(" "),a("ul",[a("li",[l._v("选择一个存储空间，打开其基础设置；")])]),l._v(" "),a("p",[a("img",{attrs:{src:"/img/mall/mall_windows_deploy_38.png",alt:""}})]),l._v(" "),a("ul",[a("li",[l._v("点击跨越设置的设置按钮；")])]),l._v(" "),a("p",[a("img",{attrs:{src:"/img/mall/mall_windows_deploy_39.png",alt:""}})]),l._v(" "),a("ul",[a("li",[l._v("点击创建规则；")])]),l._v(" "),a("p",[a("img",{attrs:{src:"/img/mall/mall_windows_deploy_40.png",alt:""}})]),l._v(" "),a("ul",[a("li",[l._v("进行跨域规则设置；")])]),l._v(" "),a("p",[a("img",{attrs:{src:"/img/mall/mall_windows_deploy_41.png",alt:""}})]),l._v(" "),a("h2",{attrs:{id:"mall-admin"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mall-admin"}},[l._v("#")]),l._v(" mall-admin")]),l._v(" "),a("ul",[a("li",[l._v("启动项目：直接运行com.macro.mall.MallAdminApplication的main方法即可；")]),l._v(" "),a("li",[l._v("接口文档地址：http://localhost:8080/swagger-ui.html")])]),l._v(" "),a("h2",{attrs:{id:"mall-search"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mall-search"}},[l._v("#")]),l._v(" mall-search")]),l._v(" "),a("ul",[a("li",[l._v("启动项目：直接运行com.macro.mall.search.MallSearchApplication的main方法即可；")]),l._v(" "),a("li",[l._v("接口文档地址：http://localhost:8081/swagger-ui.html")]),l._v(" "),a("li",[l._v("使用前需要先调用接口导入数据；http://localhost:8081/esProduct/importAll")]),l._v(" "),a("li",[l._v("如出现无法启动的问题，可以先删除Elasticsearch里面的数据再启动")])]),l._v(" "),a("h2",{attrs:{id:"mall-portal"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mall-portal"}},[l._v("#")]),l._v(" mall-portal")]),l._v(" "),a("ul",[a("li",[l._v("启动mall-portal项目：直接运行com.macro.mall.portal.MallPortalApplication的main方法即可；")]),l._v(" "),a("li",[l._v("接口文档地址：http://localhost:8085/swagger-ui.html")])]),l._v(" "),a("h2",{attrs:{id:"公众号"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#公众号"}},[l._v("#")]),l._v(" 公众号")]),l._v(" "),a("p",[a("img",{attrs:{src:"http://macro-oss.oss-cn-shenzhen.aliyuncs.com/mall/banner/qrcode_for_macrozheng_258.jpg",alt:"公众号图片"}})])])}),[],!1,null,null,null);a.default=_.exports}}]);