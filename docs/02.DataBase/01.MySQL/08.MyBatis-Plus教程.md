---
title: MyBatis-Plus教程
date: 2025-06-21 10:10:40
permalink: /pages/4f80ec/
categories:
  - DataBase
  - MySQL
tags:
  - 
author: 
  name: zyg
  link: https://github.com/zyg525
---


## 一、配置

1、pom依赖：

```xml
<parent>
    <groupId>org.springframework.boot</groupId>
    <artifactId>spring-boot-starter-parent</artifactId>
    <version>2.3.9.RELEASE</version>
</parent>

<dependency>
    <groupId>com.baomidou</groupId>
    <artifactId>mybatis-plus-boot-starter</artifactId>
    <version>3.5.12</version>
</dependency>
<dependency>
    <groupId>com.baomidou</groupId>
    <artifactId>mybatis-plus-generator</artifactId>
    <version>3.5.12</version>
</dependency>
<dependency>
    <groupId>com.baomidou</groupId>
    <artifactId>mybatis-plus-jsqlparser-4.9</artifactId>
    <version>3.5.12</version>
</dependency>
```

2、配置类

```java
@Configuration
public class MyBatisPlusConfig {
    @Bean
    public MybatisPlusInterceptor mybatisPlusInterceptor() {
        MybatisPlusInterceptor interceptor = new MybatisPlusInterceptor();
        interceptor.addInnerInterceptor(new PaginationInnerInterceptor(DbType.MYSQL));
        return interceptor;
    }
}
```

## 二、代码生成器

```java
package com.zyg;

import com.baomidou.mybatisplus.annotation.FieldFill;
import com.baomidou.mybatisplus.core.mapper.BaseMapper;
import com.baomidou.mybatisplus.generator.FastAutoGenerator;
import com.baomidou.mybatisplus.generator.config.OutputFile;
import com.baomidou.mybatisplus.generator.config.rules.NamingStrategy;
import com.baomidou.mybatisplus.generator.engine.FreemarkerTemplateEngine;
import com.baomidou.mybatisplus.generator.fill.Column;

import java.nio.file.Path;
import java.nio.file.Paths;
import java.util.Collections;

/**
 * @author zyg
 */
public class CodeGenerator {
    private static final String URL = "jdbc:mysql://192.168.220.29:3306/db_test?useSSL=false&characterEncoding=utf8&serverTimezone=Asia/Shanghai";
    private static final String USERNAME = "root";
    private static final String PASSWORD = "123456";
    private static final Path PROJECT_PATH = Paths.get(System.getProperty("user.dir"));

    private static final String JAVA_PATH = "/src/main/java";
    private static final String XML_PATH = "/src/main/resources/mapper";

    private static final String MODULE_NAME = "/learn_mybatisplus";
    private static final String AUTHOR_NAME = "zyg";
    private static final String PACKAGE_NAME = "com.zyg";

    private static final String LOGIC_DEL_COLUMN_NAME = "is_del";
    private static final String CREATE_TIME_COLUMN_NAME = "create_at";
    private static final String MODIFY_TIME_COLUMN_NAME = "update_at";
    private static final String[] TABLE_NAMES = new String[]{"t_student"};

    public static void main(String[] args) {
        FastAutoGenerator.create(URL, USERNAME, PASSWORD)
                .globalConfig(builder -> builder
                        .author(AUTHOR_NAME) // 设置作者名
                        .outputDir(PROJECT_PATH + MODULE_NAME + JAVA_PATH) // 设置Java类输出路径
                        .commentDate("yyyy-MM-dd") // 设置注释日期格式
                        .enableSwagger() // 开启Swagger
                        .disableOpenDir() // 禁用打开输出目录
                )
                // 包配置
                .packageConfig(builder -> builder
                        .parent(PACKAGE_NAME)
                        .entity("bean") // 设置实体类包名
                        .controller("controller") // 设置控制器包名
                        .service("service") // 设置服务类包名
                        .serviceImpl("service.impl") // 设置服务实现类包名
                        .mapper("dao") // 设置Mapper类包名
                        .xml("mapper.xml") // 设置Mapper XML文件包名
                        .pathInfo(Collections.singletonMap(OutputFile.xml, PROJECT_PATH + MODULE_NAME + XML_PATH))
                )
                // 策略配置
                .strategyConfig(builder -> builder
                        // 表策略配置
                        .enableCapitalMode() // 开启大小写敏感
                        .enableSkipView() // 跳过视图
                        .addInclude(TABLE_NAMES) // 设置需要生成的表名
                        .addTablePrefix("t_") // 设置过滤表前缀

                        // 实体类策略配置
                        .entityBuilder()
                        .enableChainModel() // 开启链式模型
                        .disableSerialVersionUID() // 禁用生成 serialVersionUID
                        .enableTableFieldAnnotation() // 开启生成实体时生成字段注解
                        .naming(NamingStrategy.underline_to_camel)  //数据库表映射到实体的命名策略：默认是下划线转驼峰命。这里可以不设置
                        .columnNaming(NamingStrategy.underline_to_camel) //数据库表字段映射到实体的命名策略
                        .logicDeleteColumnName(LOGIC_DEL_COLUMN_NAME) //逻辑删除字段名(数据库)
                        .addTableFills(
                                new Column(CREATE_TIME_COLUMN_NAME, FieldFill.INSERT),
                                new Column(MODIFY_TIME_COLUMN_NAME, FieldFill.INSERT_UPDATE)
                        )  // 添加表字段填充，CREATE_TIME_COLUMN_NAME字段自动填充为插入时间，MODIFY_TIME_COLUMN_NAME字段自动填充为插入修改时间
                        .enableFileOverride() // 覆盖已生成文件

                        // Controller类策略配置
                        .controllerBuilder()
                        .enableHyphenStyle() // 开启驼峰转连字符
                        .formatFileName("%sController") // 格式化 Controller 类文件名称，%s进行匹配表名，如 UserController
                        .enableRestStyle() // 开启生成 @RestController 控制器
                        //.enableFileOverride()

                        // Service类策略配置
                        .serviceBuilder()
                        .formatServiceFileName("%sService") // 格式化 service 接口文件名称，%s进行匹配表名，如 UserService
                        .formatServiceImplFileName("%sServiceImpl") // //格式化 service 实现类文件名称，%s进行匹配表名，如 UserServiceImpl
                        //.enableFileOverride()

                        // Mapper类策略配置
                        .mapperBuilder()
                        .superClass(BaseMapper.class) // 设置父类
                        .formatMapperFileName("%sMapper") // 格式化 mapper 类文件名称，%s进行匹配表名，如 UserMapper
                        .enableBaseResultMap() // 生成通用的 resultMap
                        .enableBaseColumnList() // 启用生成 BaseColumnList
                        .formatXmlFileName("%sMapper") // 格式化 xml 文件名称，%s进行匹配表名，如 UserMapper
                        //.enableFileOverride()

                        .entityBuilder()
                        .enableLombok()
                )
                // 模板引擎配置
                .templateEngine(new FreemarkerTemplateEngine())
                .execute();
    }
}
```

